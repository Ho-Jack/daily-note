## BFC(Block Formatting Context 块级格式化环境)

### 开启BFC原因： 父元素高度塌陷(①子元素设置浮动float，②父元素宽高没设置)

BFC是元素的隐含属性，默认是在关闭状态的，可以通过一些特殊的样式，来开启BFC



### 开启BFC以后元素将会具有如下特性

- 父元素的垂直外边距margin不会与**上下相邻的元素重叠**

- 开启BFC的元素不会被浮动元素所覆盖

- 开启BFC的元素可以包**含浮动子元素**（高度塌陷）

### 开启BFC的方式： 

- 1.设置元素浮动    (float:left/right)

-  2.设置元素绝对定位  (position:absolute)

- 3.设置元素的类型为inline-block (有效，宽度不是自适应)

- 4.设置overflow为一个非默认值 (有效)

```css
float: left | right;   

overflow: auto | hidden | scorll;  (有效)

dispaly: table-cell | table-caption | inline-block; (有效，宽度不是自适应)

position: fixed | absolute;
```

### 一般都是使用`overflow:hidden`来开启BFC

缺点：当子元素有定位属性时，设置 overflow: hidden; 容器以外的部分会被裁剪掉。



### 浮动 float

#### 使用float来设置元素浮动

- none 默认值，不浮动，元素在文档流中

- left 元素向左浮动

- right 元素向右浮动

#### 特点: 

- 1.元素浮动以后会完全**脱离文档流**

- 2.浮动以后元素会一直向**父元素的最上方移动**

- 3.直到遇到父元素的边框或者其他的浮动元素，会**停止移动**

- 4.如果浮动元素的上边是一个块元素，则浮动元素不会覆盖块元素

- 5.浮动元素不会超过他上边的浮动的兄弟元素，最多一边齐

- 6.浮动元素不会覆盖文字，文字会自动环绕在浮动元素的周围，(可以通过浮动来实现**文字环绕的**效果)



#### 浮动以后元素的特点:元素浮动以后，会使其完全脱离文档流。

##### 块元素 

- 1.不会独占一行

- 2.宽度和高度都被内容撑开（原本宽度是父元素100%）

##### 内联元素：内联元素脱离文档流以后会变成块元素



#### 高度塌陷(①子元素设置浮动float，②父元素宽高没设置)

父元素在文档流中高度默认是被子元素撑开的，当**子元素脱离文档流**以后，将无法撑起父元素的高度，也就会导致**父元素的高度塌陷**

父元素的高度一旦塌陷所有元素的位置将会上移，导致整个页面的布局混乱



BFC 即块级格式上下文，根据盒模型可知，每个元素都被定义为一个矩形盒子，然而盒子的布局会受到**尺寸，定位，盒子的子元素或兄弟元素，视口的尺寸**等因素决定，所以这里有一个浏览器计算的过程，计算的规则就是由一个叫做**视觉格式化模型**的东西所定义的，BFC 就是来自这个概念，它是 CSS 视觉渲染的一部分，**用于决定块级盒的布局及浮动相互影响范围的一个区域**。

BFC 具有一些特性：

1. 块级元素会在垂直方向一个接一个的排列，和文档流的排列方式一致。
2. 在 BFC 中上下相邻的两个容器的 **`margin` 会重叠**，创建新的 BFC 可以避免外边距重叠。
3. 计算 BFC 的高度时，需要计算浮动元素的高度。
4. BFC 区域不会与浮动的容器发生重叠。
5. BFC 是独立的容器，容器内部元素不会影响外部元素。
6. 每个元素的左 `margin` 值和容器的左 `border` 相接触。

利用这些特性，我们可以解决以下问题：

- 利用 `4` 和 `6` ，我们可以实现三栏（或两栏）自适应布局。
- 利用 `2` ，我们可以避免 `margin` 重叠问题。
- 利用 `3` ，我们可以避免高度塌陷。

创建 BFC 的方式：

- 绝对定位元素（`position` 为 `absolute` 或 `fixed` ）。
- 行内块元素，即 `display` 为 `inline-block` 。
- `overflow` 的值不为 `visible` 。


作者：vortesnail
链接：https://juejin.cn/post/7061588533214969892
来源：稀土掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。