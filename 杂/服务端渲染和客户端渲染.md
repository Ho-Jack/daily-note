## 服务端渲染与客户端渲染的区别

| 服务端渲染                                                   | 客户端渲染                                                  |
| ------------------------------------------------------------ | ----------------------------------------------------------- |
| 由服务端将数据组合成html标签后，由前端展示，如普通HTML页面   | 服务端向前端传输数据，如JSON，由前端组装成html页面展示      |
| 如Pug、EJS等模板引擎                                         | 如Vue、React等框架                                          |
| 优点：1. 安全，因为服务端的内容对前端都不可见  2. 对SEO有利，由于搜索引擎只会读取html，不会执行JavaScript，因此客户端渲染的页面在搜索引擎看来只是个空白页面。 | 优点：1. 节省流量，数据量少 2. 用户体验好，可以不用刷新页面 |
| 一般需要安全性高的页面，比如注册、登录，会使用服务端渲染     | 安全性要求不高的页面，如商品页等，会使用客户端渲染          |

 **SPA、SEO、SSR 三者的区别**

-  **SPA**（single page application） 单页面应用，是前后端分离时提出的一种解决方案。
      优点：页面之间切换快；减少了服务器压力；
      缺点：首屏打开速度慢，不利于 SEO 搜索引擎优。

  

-  **SEO**（search engine optimization）搜索引擎优化，利用搜索引擎的规则提高网站在有关搜索引擎内的自然排名。
   我们之前说 SPA 单页面应用，通过 ajax 获取数据，这就难保证我们的页面能被搜索引擎收到。并且有一些搜索引擎不支持的 js 和通过 ajax 获取的数据，那就更不用提 SEO 了，为解决这个问题，SSR 登场了···

  

-  **SSR** （server side rendering）服务端渲染，SSR 的出现一定程度上解决了 SPA 首屏慢的问题，又极大的减少了普通 SPA 对于 SEO 的不利影响。
     优点：

  ​          更快的响应时间，不用等待所有 js 都下载完成，浏览器便能显示比较完整的页面；
  ​          更好的 SSR，我们可以将 SEO 关键信息直接在后台就渲染成 html，从而保证搜索引擎都能爬取到关键数据。
     缺点：
  ​          占用更多的 CUP 和内存资源；
  ​          一些常用的浏览器的 api 可能无法正常使用，比如 window，document，alert等，如果使用的话需要对运行环境加以判断。 



##### 客户端渲染和服务器渲染，两者本质的区别？

客户端渲染和服务器端渲染的最重要的区别就是究竟是谁来完成html文件的完整拼接，如果是在服务器端完成的，然后返回给客户端，就是服务器端渲染，而如果是前端做了更多的工作完成了html的拼接，则就是客户端渲染。



##### 服务器端渲染的优缺点是？

**优点：**

1. 前端耗时少。因为后端拼接完了html，浏览器只需要直接渲染出来。
2. 有利于SEO。因为在后端有完整的html页面，所以爬虫更容易爬取获得信息，更有利于seo。
3. 无需占用客户端资源。即解析模板的工作完全交由后端来做，客户端只要解析标准的html页面即可，这样对于客户端的资源占用更少，尤其是移动端，也可以更省电。
4. 后端生成静态化文件。即生成缓存片段，这样就可以减少数据库查询浪费的时间了，且对于数据变化不大的页面非常高效 。

**缺点：**

1. 不利于前后端分离，开发效率低。使用服务器端渲染，则无法进行分工合作，则对于前端复杂度高的项目，不利于项目高效开发。另外，如果是服务器端渲染，则前端一般就是写一个静态html文件，然后后端再修改为模板，这样是非常低效的，并且还常常需要前后端共同完成修改的动作； 或者是前端直接完成html模板，然后交由后端。另外，如果后端改了模板，前端还需要根据改动的模板再调节css，这样使得前后端联调的时间增加。
2. 占用服务器端资源。即服务器端完成html模板的解析，如果请求较多，会对服务器造成一定的访问压力。而如果使用前端渲染，就是把这些解析的压力分摊了前端，而这里确实完全交给了一个服务器。

### 客户端渲染的优缺点是？

**优点：**

1. 前后端分离。前端专注于前端UI，后端专注于api开发，且前端有更多的选择性，而不需要遵循后端特定的模板。
2. 体验更好。比如，我们将网站做成SPA或者部分内容做成SPA，这样，尤其是移动端，可以使体验更接近于原生app。

**缺点：**

1. 前端响应较慢。如果是客户端渲染，前端还要进行拼接字符串的过程，需要耗费额外的时间，不如服务器端渲染速度快。
2. 不利于SEO。目前比如百度、谷歌的爬虫对于SPA都是不认的，只是记录了一个页面，所以SEO很差。因为服务器端可能没有保存完整的html，而是前端通过js进行dom的拼接，那么爬虫无法爬取信息。 除非搜索引擎的seo可以增加对于JavaScript的爬取能力，这才能保证seo。

##### 使用服务器端渲染还是客户端渲染？

不谈业务场景而盲目选择使用何种渲染方式都是耍流氓。比如企业级网站，主要功能是展示而没有复杂的交互，并且需要良好的SEO，则这时我们就需要使用服务器端渲染；而类似后台管理页面，交互性比较强，不需要seo的考虑，那么就可以使用客户端渲染。
 另外，具体使用何种渲染方法并不是绝对的，比如现在一些网站采用了**首屏服务器端渲染**，即对于用户最开始打开的那个页面采用的是服务器端渲染，这样就保证了渲染速度，而其他的页面采用客户端渲染，这样就完成了前后端分离。



