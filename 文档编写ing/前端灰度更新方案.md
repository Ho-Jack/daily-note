

## 常见的发布策略

### 蓝绿发布（Blue-Green Deployment）



> 蓝绿发布是一种减少停机时间和风险的部署策略。它通过维护两套几乎完全相同的生产环境——蓝色环境和绿色环境——来实现平滑的版本切换。

#### 环境

蓝色环境：当前**活跃的生产环境**，正在处理实际的用户流量。
绿色环境：**待更新**的新版本被部署到绿色环境中。

#### 流程：

1. 新版本在绿色环境中通过测试
2. 切换流量：流量从蓝色环境切换到绿色环境
3. 回滚：新版本出现问题，快速切换回蓝色环境



#### 优点：

- 无缝切换，最小化停机时间。
-  容易回滚，风险较低。



#### 缺点：

- 需要两套生产环境，成本较高。
- 资源利用率可能不高。





### A/B 测试（A/B Testing）

> A/B 测试是通过将用户**流量分成两组或多组**，分别体验不同版本的应用，从而比较其效果和性能差异的一种发布策略。



#### A/B版本划分：

- 创建版本A（现有版本）

- 版本B（新版本）

#### 流程：

流量分配：随机将用户流量划分到A/B两个版本中。
数据收集：收集用户在不同版本下的行为数据。
分析结果：分析数据确定哪个版本表现更好。

#### 优点：

可以在真实环境中验证新功能的效果。
数据驱动决策，精确了解用户偏好。

#### 缺点：

需要数据分析能力强，才能有效评估结



### 金丝雀发布/灰度发布

> 金丝雀发布是一种**逐步发布策略**，通过向一小部分用户发布新版本，观察其表现并逐步扩大覆盖面，以确保新版本的稳定性和可靠性。



#### 流程：

1. 小规模发布：将新版本发布给少量用户（通常是内部用户或早期测试用户）。

2. 监控和评估：密切监控新版本的性能和用户反馈。

3. 扩大发布范围：如果新版本表现良好，逐步增加覆盖用户直到全量发布。

#### 优点：

**风险较小**，可以早期发现问题。
**逐步发布**，问题排查和修复较为容易。

#### 缺点：

发布和监控过程较为复杂，需要持续观察。
需要良好的监控和反馈机制。



原文链接：https://blog.csdn.net/lwxvgdv/article/details/139795636



[Vue灰度发布新功能的那些事什么是灰度发布？百度百科的解释如下。 从上可以看出，灰度发布的主要作用有以下几点： 降低直接 - 掘金 (juejin.cn)](https://juejin.cn/post/7088232753543512077)

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7f953f5aba9e44f2b3686ea75d3231d9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp)

由于前端的接口请求是使用先对路径，通过ng进行转发，需要考虑灰度情况前端能正常访问正确的接口地址





![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/00f5ce814313cf0f04e778e6db7b5513.png#pic_center)

[K8S基于Rancher的灰度发布_灰度 header-CSDN博客](https://blog.csdn.net/catoop/article/details/109601468)